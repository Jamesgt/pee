(function(){var t,n={}.hasOwnProperty,r=function(t,r){function e(){this.constructor=t}for(var s in r)n.call(r,s)&&(t[s]=r[s]);return e.prototype=r.prototype,t.prototype=new e,t.__super__=r.prototype,t},e=[].slice;t=require("events").EventEmitter,exports.PassEventEmitter=function(t){function s(){var t,r,e;if(s.__super__.constructor.call(this),r=s._PassEventEmitter_routes[this.constructor])for(t in r)n.call(r,t)&&(e=r[t],s._PassEventEmitter_doPass({func:function(t){return function(n,r){return t.on(n,function(t){return r.emit(n,t)})}}(this)},t,e))}return r(s,t),s._PassEventEmitter_routes={},s.prototype.emit=function(t,n){return s.__super__.emit.call(this,t,n),"function"==typeof s.postEmitHook?s.postEmitHook(this.constructor,t,n):void 0},s.prototype.emitLater=function(){var t,n;return n=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],t.length<2||t.unshift(null),setTimeout(function(r){return function(){return r.emit(n,t[0])}}(this),t[1])},s.prototype.emitEvery=function(){var t,n;return n=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],t.length<2||t.unshift(null),setInterval(function(r){return function(){return r.emit(n,t[0])}}(this),t[1])},s.prototype.pass=function(){var t,r,u,o;if(r=arguments[0],o=2<=arguments.length?e.call(arguments,1):[],r!==Object(r)||Array.isArray(r))s._PassEventEmitter_doPass({func:function(t){return function(n,r){return t.on(n,function(t){return r.emit(n,t)})}}(this)},r,o);else for(t in r)n.call(r,t)&&(u=r[t],this.pass(t,u))},s._PassEventEmitter_doPass=function(t,n,r){var e,s,u,o,i,a,c,l,f,m,_,p;if(0!==r.length){for(e={names:n,targets:[]},Array.isArray(n)||(e.names=n.split(/\s|,/g)),i=0,l=r.length;l>i;i++)u=r[i],e.targets=e.targets.concat(u);for(_=e.names,a=0,f=_.length;f>a;a++)if(s=_[a],""!==s)for(p=e.targets,c=0,m=p.length;m>c;c++)o=p[c],null!=(null!=o?o.on:void 0)&&!function(){return function(n,r){return t.func(n,r,t.meta)}}(this)(s,o)}},s.pass=function(){var t,n,r;return n=arguments[0],t=arguments[1],r=3<=arguments.length?e.call(arguments,2):[],s._PassEventEmitter_doPass({func:function(){return function(t,n,r){var e,u;return null==(e=s._PassEventEmitter_routes)[r]&&(e[r]={}),null==(u=s._PassEventEmitter_routes[r])[t]&&(u[t]=[]),s._PassEventEmitter_routes[r][t].push(n)}}(this),meta:n},t,r)},s.removeAllRoutes=function(){return s._PassEventEmitter_routes={}},s}(t)}).call(this);